{% extends 'adminbasic.html' %}
{% load static %}
{% block body %}
<div class="page-wrapper">
<div class="content container-fluid">
<div class="page-header">
<div class="row">
<div class="col">
<h3 class="page-title">Profile</h3>
<ul class="breadcrumb">
<li class="breadcrumb-item"><a href="index.html">Dashboard</a></li>
<li class="breadcrumb-item active">Profile</li>
</ul>
</div>
</div>
</div>
<div class="row">
<div class="col-md-12">
<div class="profile-header">
<div class="row align-items-center">
<div class="col-auto profile-image">
<a href="#">
    {% if profile.0.img|length is not 0 %}
<img alt="User Image" class="rounded-circle" src="/media/{{profile.0.img}}"/>

     {% else %}
            <img alt="User Image" class="rounded-circle" width="31" src="/media/default.jpg"/>
         {% endif %}
</a>
</div>
<div class="col ml-md-n2 profile-user-info">
<h4 class="user-name mb-0"> {{profile.0.name}}</h4>
<h6 class="text-muted"><a class="__cf_email__" data-cfemail="097b7068677d687065667b49686d646067276a6664" href="/cdn-cgi/l/email-protection">[email�protected]</a></h6>
<div class="user-Location"><i class="fa fa-map-marker"></i> {{profile.0.address}}</div>
<div class="about-text">{{profile.0.about}}</div>
</div>
<div class="col-auto profile-btn">
   <a class="btn btn-primary" data-toggle="modal" style="color:white"
                               onclick="('#profileids').val('{{profile.0.id}}');" data-target="#edit_details">
       Edit
</a>
</div>
</div>
</div>
<div c+ass="profile-menu">
<ul class="nav nav-tabs nav-tabs-solid">
<li class="nav-item">
<a class="nav-link active" data-toggle="tab" href="#per_details_tab">About</a>
</li>
<li class="nav-item">
<a class="nav-link" data-toggle="tab" href="#password_tab">Password</a>
</li>
</ul>
</div>
<div class="tab-content profile-tab-cont">
<div class="tab-pane fade show active" id="per_details_tab">
<div class="row">
<div class="col-lg-12">
<div class="card">
<div class="card-body">
<h5 class="card-title d-flex justify-content-between">
<span>Personal Details</span>
<a class="edit-link" data-toggle="modal" href="#edit_personal_details" onclick="('#profileid').val('{{profile.0.id}}');">
    <i class="fa fa-edit mr-1"></i>Edit</a>
</h5>
<div class="row">
<p class="col-sm-2 text-muted text-sm-right mb-0 mb-sm-3">Name</p>
<p class="col-sm-10">{{request.user.username}}</p>
</div>
<div class="row">
<p class="col-sm-2 text-muted text-sm-right mb-0 mb-sm-3">Date of Birth</p>
<p class="col-sm-10"> {{profile.0.dob}}</p>
</div>
<div class="row">
<p class="col-sm-2 text-muted text-sm-right mb-0 mb-sm-3">Email ID</p>
<p class="col-sm-10"><a class="__cf_email__" data-cfemail="cfa5a0a7a1aba0aa8faab7aea2bfa3aae1aca0a2" href="/cdn-cgi/l/email-protection">[email�protected]</a></p>
</div>
<div class="row">
<p class="col-sm-2 text-muted text-sm-right mb-0 mb-sm-3">Mobile</p>
<p class="col-sm-10"> {{profile.0.mobile}}</p>
</div>
<div class="row">
<p class="col-sm-2 text-muted text-sm-right mb-0">Address</p>
<p class="col-sm-10 mb-0">{{profile.0.address}},<br/>
{{profile.0.city}},<br/>
{{profile.0.state}}-{{profile.0.zipcode}},<br/>
{{profile.0.country}}.</p>
</div>
</div>
</div>
<div aria-hidden="true" class="modal fade" id="edit_personal_details" role="dialog">
<div class="modal-dialog modal-dialog-centered" role="document">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title">Personal Details</h5>
<button aria-label="Close" class="close" data-dismiss="modal" type="button">
<span aria-hidden="true">�</span>
</button>
</div>
<div class="modal-body">
<form method="post">{% csrf_token %}
<div class="row form-row">


                                <input class="form-control" name="profileid" id="profileid" type="hidden"
                                       value="{{profile.0.id}}"/>
<div class="col-12 col-sm-6">
<div class="form-group">
<label>First Name</label>
<input class="form-control"    required  name="fname" id="fname"  type="text" value=""/>
</div>
</div>
<div class="col-12 col-sm-6">
<div class="form-group">
<label>Last Name</label>
<input class="form-control"  required  name="lname" id="lname" type="text" value=""/>
</div>
</div>
<div class="col-12">
<div class="form-group">
<label>Date of Birth</label>
<div>
<input class="form-control"  required type="date" name="dob" id="dob" type="date" value=""/>
</div>
</div>
</div>
<div class="col-12 col-sm-6">
<div class="form-group">
<label>Email ID</label>
<input class="form-control"  required name="email" id="email" type="email" value=""/>
</div>
</div>
<div class="col-12 col-sm-6">
<div class="form-group">
<label>Mobile</label>
<input class="form-control" type="text"  required type="text" name="mobile" id="mobile" value=""/>
</div>
</div>
<div class="col-12">
<h5 class="form-title"><span>Address</span></h5>
</div>
<div class="col-12">
<div class="form-group">
<label>Address</label>
<input class="form-control" type="text" required  name="address" id="address" value=""/>
</div>
</div>
<div class="col-12 col-sm-6">
<div class="form-group">
<label>City</label>
<input class="form-control" type="text"  name="city" id="city" required value="Miami"/>
</div>
</div>
<div class="col-12 col-sm-6">
<div class="form-group">
<label>State</label>
<input class="form-control" type="text"  name="state" id="state" value="Florida"/>
</div>
</div>
<div class="col-12 col-sm-6">
<div class="form-group">
<label>Zip Code</label>
<input class="form-control" type="text" required name="zipcode" id="zipcode" value="22434"/>
</div>
</div>
<div class="col-12 col-sm-6">
<div class="form-group">
<label>Country</label>
<input class="form-control" type="text"   name="country" id="country" required value="United States"/>
</div>
</div>
</div>
<button class="btn btn-primary btn-block" type="submit">Save Changes</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="tab-pane fade" id="password_tab">
<div class="card">
<div class="card-body">
<h5 class="card-title">Change Password</h5>
<div class="row">
<div class="col-md-10 col-lg-6">
<form method="post" action="{% url 'admin_pwd_chng' %}?next={{request.get_full_path}}">{% csrf_token %}
<div class="form-group">
<label>Old Password</label>
    <input class="form-control" id='id'  name='id1' value="{{request.user.id}}" type="hidden"/>
    <input class="form-control" required name="oldpwd" id="old" type="password"/>
</div>
<div class="form-group">
<label>New Password</label>
<input class="form-control" required name="newpwd" id="new"  type="password"/>
</div>
<div class="form-group">
<label>Confirm Password</label>
<input class="form-control" required name='cnfrm' id="cnfrm" type="password"/>
</div>
<button class="btn btn-primary" type="submit">Save Changes</button>
</form>
</div>
</div>
</div>
</div>
</div>

<div aria-hidden="true" class="modal fade" id="edit_details" role="dialog">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">
                    Details
                </h5>
                <button aria-label="Close" class="close" data-dismiss="modal" type="button">
                <span aria-hidden="true">
                 ×
                </span>
                </button>
            </div>
            <div class="modal-body">
                <form method="post">{% csrf_token %}
                    <div class="row form-row">

                        <div class="service-fields mb-3">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="mb-3">
                                        <label for="update_servicen" class="form-label">Upload Profile Image
                                            <span class="text-danger">
                *
               </span></label>
                                        <input class="form-control"  required type="file" name="img" id="update_servicen"
                                               multiple>
                                    </div>


                                </div>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <input class="form-control" name="adminid" required id="profieid" type="hidden"
                                       value="{{profile.0.id}}"/>

                                <label>
                                    Name
                                </label>
                                <input class="form-control" required type="text" name="name" id="name" value=""/>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-group">
                                <label>
                                    about
                                </label>
                                <input class="form-control" required name="about" id="about" type="text" value=""/>

                            </div>
                        </div>

                    </div>
                    <button class="btn btn-primary btn-block" type="submit">
                        Save Changes
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>
</div>
</div>
</div>
</div>
</div>
{% endblock body %}
